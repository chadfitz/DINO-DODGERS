!function(){"use strict";var t,s,i,e,h,a,c,r,n,d;t=class{constructor(t,s){this.canvas=t,this.ctx=s,this.background=new Image,this.background.src="./src/backgrounds/start_screen_background.jpg"}renderStartScreen(){this.background.onload=()=>{this.ctx.drawImage(this.background,0,0,this.canvas.width,this.canvas.height)}}},s=class{constructor(t,s){this.ctx=t,this.canvas=s,this.background=new Image,this.background.src="./src/backgrounds/game_background.jpg"}drawBackground(){this.ctx.drawImage(this.background,0,0,this.canvas.width,this.canvas.height)}},i=class{constructor(t,s){this.ctx=t,this.canvas=s,this.width=108,this.height=75,this.x=.25*this.canvas.width,this.y=this.canvas.height-this.height-30,this.image=document.getElementById("base-dino"),this.frameX=0,this.frameY=0,this.maxFrame=8,this.gameFrame=0,this.staggerFrames=14,this.characterSpeed=0,this.characterMaxSpeed=3,this.characterDirection="right"}move(t){this.drawCharacter(),t.includes("d")&&this.x<this.canvas.width/2-this.width?(this.characterSpeed=this.characterMaxSpeed,this.x+=this.characterSpeed,this.maxFrame=7,this.frameY=1,this.characterDirection="right"):t.includes("a")&&this.x>0?(this.characterSpeed=-this.characterMaxSpeed,this.x+=this.characterSpeed,this.maxFrame=7,this.frameY=3,this.characterDirection="left"):t.length||"right"!==this.characterDirection?t.length||"left"!==this.characterDirection||(this.maxFrame=8,this.frameY=2):(this.maxFrame=8,this.frameY=0)}drawCharacter(){this.ctx.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.gameFrame%this.staggerFrames==0&&(this.frameX<this.maxFrame?this.frameX++:this.frameX=0),this.gameFrame++}},e=class{constructor(t,s,i,e){this.ctx=t,this.canvas=s,this.width=85.75,this.height=75,this.x=.75*this.canvas.width,this.y=this.canvas.height-this.height-30,this.image=document.getElementById("cyborg-dino"),this.frameX=0,this.frameY=0,this.maxFrame=11,this.gameFrame=0,this.staggerFrames=14,this.characterSpeed=0,this.characterMaxSpeed=3,this.characterDirection="right"}move(t){this.drawCharacter(),t.includes("ArrowRight")&&this.x<this.canvas.width-this.width?(this.characterSpeed=this.characterMaxSpeed,this.x+=this.characterSpeed,this.frameY=1,this.characterDirection="right"):t.includes("ArrowLeft")&&this.x>this.canvas.width/2+this.width/2?(this.characterSpeed=-this.characterMaxSpeed,this.x+=this.characterSpeed,this.frameY=3,this.characterDirection="left"):t.length||"right"!==this.characterDirection?t.length||"left"!==this.characterDirection||(this.frameY=2):this.frameY=0}drawCharacter(){this.ctx.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.gameFrame%this.staggerFrames==0&&(this.frameX<this.maxFrame?this.frameX++:this.frameX=0),this.gameFrame++}},h=class{constructor(t,s){this.ctx=t,this.canvas=s,this.x=0,this.y=-this.height,this.hazardPics=["./src/sprites/meteor1.png","./src/sprites/meteor2.png","./src/sprites/meteor3.png"],this.hazard=new Image,this.hazard.src=this.hazardPics[Math.floor(Math.random()*this.hazardPics.length)],this.width=50,this.height=157,this.vel=2*Math.random()+2}drawHazard(){this.ctx.drawImage(this.hazard,this.x,this.y,this.width,this.height)}animate(){this.drawHazard(),this.y===-this.height&&(this.x=Math.random()*this.canvas.width/2),this.y<this.canvas.height?this.y+=this.vel:(this.y=-this.height,this.vel=2*Math.random()+2)}},a=class{constructor(t,s){this.ctx=t,this.canvas=s,this.x=this.canvas.width,this.y=-this.height,this.hazardPics=["./src/sprites/meteor1.png","./src/sprites/meteor2.png","./src/sprites/meteor3.png"],this.hazard=new Image,this.hazard.src=this.hazardPics[Math.floor(Math.random()*this.hazardPics.length)],this.width=50,this.height=157,this.vel=2*Math.random()+2}drawHazard(){this.ctx.drawImage(this.hazard,this.x,this.y,this.width,this.height)}animate(){this.drawHazard(),this.y===-this.height&&(this.x=Math.random()*this.canvas.width/2+this.canvas.width/2),this.y<this.canvas.height?this.y+=this.vel:(this.y=-this.height,this.vel=2*Math.random()+2)}},c=class{constructor(t,s,i){this.ctx=t,this.canvas=s,this.score=i,this.endScreenButtons=document.querySelector(".end-screen-buttons"),this.gameOverSound=new Audio,this.gameOverSound.src="./src/music/mixkit-retro-arcade-game-over-470.wav",this.renderEndScreen()}renderEndScreen(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(background,0,0,this.canvas.width,this.canvas.height),this.endScreenButtons.style.display="block",this.gameOverSound.play();const t={x:this.canvas.width/2,y:this.canvas.height/2};this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.font="bold 200pt sans-serif",this.ctx.fillText(this.score,t.x,t.y),this.ctx.fillStyle="black",this.ctx.strokeStyle="forestgreen",this.ctx.lineWidth=5,this.ctx.strokeText(this.score,t.x,t.y);const s={x:this.canvas.width/2,y:this.canvas.height/6};this.ctx.font="100px monospace",this.ctx.fillStyle="black",this.ctx.strokeStyle="forestgreen",this.ctx.lineWidth=5,this.ctx.strokeText("YOUR SCORE:",s.x,s.y),this.ctx.fillText("YOUR SCORE:",s.x,s.y)}},r=class{constructor(){this.keys=[],window.addEventListener("keydown",(t=>{"d"!==t.key&&"a"!==t.key&&"ArrowRight"!==t.key&&"ArrowLeft"!==t.key||-1!==this.keys.indexOf(t.key)||this.keys.push(t.key)})),window.addEventListener("keyup",(t=>{"d"!==t.key&&"a"!==t.key&&"ArrowRight"!==t.key&&"ArrowLeft"!==t.key||this.keys.splice(this.keys.indexOf(t.key),1)}))}},n=class{constructor(t,h){this.canvas=t,this.ctx=h,this.level=new s(this.ctx,this.canvas),this.input=new r,this.characterOne=new i(this.ctx,this.canvas),this.characterTwo=new e(this.ctx,this.canvas),this.leftHazards=[],this.rightHazards=[],this.score=0,this.addLeftHazard(),this.addRightHazard(),this.gameOver(),this.scoreCounter(),this.play()}scoreCounter(){this.scoreCounter=setInterval((()=>this.score+=1),1e3)}play(){this.level.drawBackground(),this.characterOne.move(this.input.keys),this.characterTwo.move(this.input.keys),this.leftHazards.forEach((t=>t.animate())),this.rightHazards.forEach((t=>t.animate())),this.drawScore();const t=requestAnimationFrame(this.play.bind(this));if(this.gameOver())return cancelAnimationFrame(t),new c(this.ctx,this.canvas,this.score)}addLeftHazard(){this.leftHazards.push(new h(this.ctx,this.canvas)),this.leftHazardCounter=setInterval((()=>{this.leftHazards.push(new h(this.ctx,this.canvas))}),4500)}addRightHazard(){this.rightHazards.push(new a(this.ctx,this.canvas)),this.rightHazardCounter=setInterval((()=>{this.rightHazards.push(new a(this.ctx,this.canvas))}),4500)}gameOver(){let t=!1;return this.leftHazards.forEach((s=>{s.x<this.characterOne.x+this.characterOne.width-45&&s.x+s.width>this.characterOne.x&&s.y+115<this.characterOne.y+this.characterOne.height-7&&s.y+s.height-10>this.characterOne.y+7&&(t=!0)})),this.rightHazards.forEach((s=>{s.x<this.characterTwo.x+this.characterTwo.width-5&&s.x+s.width>this.characterTwo.x+10&&s.y+115<this.characterTwo.y+this.characterTwo.height&&s.y+s.height>this.characterTwo.y+5&&(t=!0)})),t}drawScore(){const t={x:this.canvas.width/2,y:this.canvas.height/5};this.ctx.textAlign="center",this.ctx.font="bold 100pt sans-serif",this.ctx.fillStyle="black",this.ctx.fillText(this.score,t.x,t.y),this.ctx.strokeStyle="forestgreen",this.ctx.lineWidth=5,this.ctx.strokeText(this.score,t.x,t.y)}},d=class{constructor(s,i){this.canvas=s,this.ctx=i,this.startScreen=new t(this.canvas,this.ctx),this.menuButtons=document.querySelector(".menu-buttons"),this.playButton=document.getElementById("play-button"),this.instructionsButton=document.getElementById("instructions-button"),this.instructions=document.getElementById("instructions"),this.difficultyButton=document.getElementById("difficulty-button"),this.difficultySelect=document.getElementById("difficulty-select"),this.sourcesButton=document.getElementById("sources-button"),this.sources=document.getElementById("sources"),this.backButton=document.getElementById("back-button"),this.endScreenButtons=document.querySelector(".end-screen-buttons"),this.playAgainButton=document.getElementById("play-again-button"),this.backToMenuButton=document.getElementById("back-to-menu-button"),this.music=document.getElementById("music"),this.musicIcon=document.getElementById("music-icon"),this.nextSongIcon=document.getElementById("next"),this.prevSongIcon=document.getElementById("prev"),this.musicSources=["./src/music/ES_Tiger Tracks - Lexica.mp3","./src/music/Monkeys-Spinning-Monkeys.mp3","./src/music/makai-symphony-dragon-slayer.mp3","./src/music/ES_Astrophage - Lupus Nocte.mp3"],this.currentSong=0,this.music.play(),this.startScreen.renderStartScreen(),this.playButton.addEventListener("click",(()=>{new n(this.canvas,this.ctx),this.menuButtons.style.display="none"})),this.instructionsButton.addEventListener("click",(()=>{this.ctx.drawImage(this.instructions,0,0,this.canvas.width,this.canvas.height),this.menuButtons.style.display="none",this.backButton.style.display="block"})),this.backButton.addEventListener("click",(()=>{this.ctx.drawImage(this.startScreen.background,0,0,this.canvas.width,this.canvas.height),this.backButton.style.display="none",this.menuButtons.style.display="block"})),this.difficultyButton.addEventListener("click",(()=>{this.ctx.drawImage(this.difficultySelect,0,0,this.canvas.width,this.canvas.height),this.menuButtons.style.display="none",this.backButton.style.display="block"})),this.sourcesButton.addEventListener("click",(()=>{this.ctx.drawImage(this.sources,0,0,this.canvas.width,this.canvas.height),this.menuButtons.style.display="none",this.backButton.style.display="block"})),this.playAgainButton.addEventListener("click",(()=>{new n(this.canvas,this.ctx),this.menuButtons.style.display="none",this.endScreenButtons.style.display="none"})),this.backToMenuButton.addEventListener("click",(()=>{this.ctx.drawImage(this.startScreen.background,0,0,this.canvas.width,this.canvas.height),this.backButton.style.display="none",this.menuButtons.style.display="block",this.endScreenButtons.style.display="none"})),this.musicIcon.addEventListener("click",(()=>{this.music.paused?(this.music.play(),this.musicIcon.src="./src/icons/music.png"):(this.music.pause(),this.musicIcon.src="./src/icons/music_off.png")})),this.nextSongIcon.addEventListener("click",(()=>{this.currentSong++,this.music.src=this.musicSources[this.currentSong%this.musicSources.length],this.music.play(),this.musicIcon.src="./src/icons/music.png"})),this.prevSongIcon.addEventListener("click",(()=>{this.currentSong>0?this.currentSong--:this.currentSong=this.musicSources.length-1,this.music.src=this.musicSources[this.currentSong%this.musicSources.length],this.music.play(),this.musicIcon.src="./src/icons/music.png"}))}},document.addEventListener("DOMContentLoaded",(()=>{const s=document.getElementById("game-canvas");s.width=.67*window.innerWidth,s.height=.67*window.innerHeight,s.style.boxShadow="1px 1px 6px 6px slategray";const i=s.getContext("2d"),e=document.getElementById("background");e.width=s.width,e.height=s.height;const h=new t(s,i);h.renderStartScreen(),new d(s,i),window.addEventListener("resize",(()=>{s.width=.67*window.innerWidth,s.height=.67*window.innerHeight,i.drawImage(h.background,0,0,s.width,s.height)})),document.body.style.backgroundImage="url('./src/backgrounds/space.jpg')",document.body.style.backgroundSize="cover"}))}();
//# sourceMappingURL=main.js.map