!function(){"use strict";!function(){var t,s,e,i=class{constructor(t,s){this.canvas=t,this.ctx=s,this.background=new Image,this.background.src="./src/backgrounds/start_screen_background.jpg"}renderStartScreen(){this.background.onload=()=>{this.ctx.drawImage(this.background,0,0,this.canvas.width,this.canvas.height)}}};class h{constructor(t,s){this.ctx=t,this.canvas=s,this.x=0,this.y=-this.height,this.hazardPics=["./src/sprites/meteor1.png","./src/sprites/meteor2.png","./src/sprites/meteor3.png"],this.hazard=new Image,this.hazard.src=this.hazardPics[Math.floor(Math.random()*this.hazardPics.length)],this.width=50,this.height=157}drawHazard(){this.ctx.drawImage(this.hazard,this.x,this.y,this.width,this.height)}animate(){this.drawHazard(),this.y===-this.height&&(this.x=Math.random()*this.canvas.width/2),this.y<this.canvas.height?this.y+=h.vel:(this.y=-this.height,this.vel=h.vel)}}t=h,s="vel",e=2*Math.random()+2,(s=function(t){var s=function(t,s){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,s);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof s?s:String(s)}(s))in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e;var a=h;class r{constructor(t,s){this.ctx=t,this.canvas=s,this.x=this.canvas.width,this.y=-this.height,this.hazardPics=["./src/sprites/meteor1.png","./src/sprites/meteor2.png","./src/sprites/meteor3.png"],this.hazard=new Image,this.hazard.src=this.hazardPics[Math.floor(Math.random()*this.hazardPics.length)],this.width=50,this.height=157}drawHazard(){this.ctx.drawImage(this.hazard,this.x,this.y,this.width,this.height)}animate(){this.drawHazard(),this.y===-this.height&&(this.x=Math.random()*this.canvas.width/2+this.canvas.width/2),this.y<this.canvas.height?this.y+=r.vel:(this.y=-this.height,this.vel=r.vel)}}!function(t,s,e){(s=function(t){var s=function(t,s){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,s);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof s?s:String(s)}(s))in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e}(r,"vel",2*Math.random()+2);var n=r,c=class{constructor(t,s){this.canvas=t,this.ctx=s,this.level=new class{constructor(t,s){this.ctx=t,this.canvas=s,this.background=new Image,this.background.src="./src/backgrounds/game_background.jpg"}drawBackground(){this.ctx.drawImage(this.background,0,0,this.canvas.width,this.canvas.height)}}(this.ctx,this.canvas),this.input=new class{constructor(){this.keys=[],window.addEventListener("keydown",(t=>{"d"!==t.key&&"a"!==t.key&&"ArrowRight"!==t.key&&"ArrowLeft"!==t.key||-1!==this.keys.indexOf(t.key)||this.keys.push(t.key)})),window.addEventListener("keyup",(t=>{"d"!==t.key&&"a"!==t.key&&"ArrowRight"!==t.key&&"ArrowLeft"!==t.key||this.keys.splice(this.keys.indexOf(t.key),1)}))}},this.characterOne=new class{constructor(t,s){this.ctx=t,this.canvas=s,this.width=108,this.height=75,this.x=.25*this.canvas.width,this.y=this.canvas.height-this.height-30,this.image=document.getElementById("base-dino"),this.frameX=0,this.frameY=0,this.maxFrame=8,this.gameFrame=0,this.staggerFrames=14,this.characterSpeed=0,this.characterMaxSpeed=3,this.characterDirection="right"}move(t){this.drawCharacter(),t.includes("d")&&this.x<this.canvas.width/2-this.width?(this.characterSpeed=this.characterMaxSpeed,this.x+=this.characterSpeed,this.maxFrame=7,this.frameY=1,this.characterDirection="right"):t.includes("a")&&this.x>0?(this.characterSpeed=-this.characterMaxSpeed,this.x+=this.characterSpeed,this.maxFrame=7,this.frameY=3,this.characterDirection="left"):t.length||"right"!==this.characterDirection?t.length||"left"!==this.characterDirection||(this.maxFrame=8,this.frameY=2):(this.maxFrame=8,this.frameY=0)}drawCharacter(){this.ctx.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.gameFrame%this.staggerFrames==0&&(this.frameX<this.maxFrame?this.frameX++:this.frameX=0),this.gameFrame++}}(this.ctx,this.canvas),this.characterTwo=new class{constructor(t,s,e,i){this.ctx=t,this.canvas=s,this.width=85.75,this.height=75,this.x=.75*this.canvas.width,this.y=this.canvas.height-this.height-30,this.image=document.getElementById("cyborg-dino"),this.frameX=0,this.frameY=0,this.maxFrame=11,this.gameFrame=0,this.staggerFrames=14,this.characterSpeed=0,this.characterMaxSpeed=3,this.characterDirection="right"}move(t){this.drawCharacter(),t.includes("ArrowRight")&&this.x<this.canvas.width-this.width?(this.characterSpeed=this.characterMaxSpeed,this.x+=this.characterSpeed,this.frameY=1,this.characterDirection="right"):t.includes("ArrowLeft")&&this.x>this.canvas.width/2+this.width/2?(this.characterSpeed=-this.characterMaxSpeed,this.x+=this.characterSpeed,this.frameY=3,this.characterDirection="left"):t.length||"right"!==this.characterDirection?t.length||"left"!==this.characterDirection||(this.frameY=2):this.frameY=0}drawCharacter(){this.ctx.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.gameFrame%this.staggerFrames==0&&(this.frameX<this.maxFrame?this.frameX++:this.frameX=0),this.gameFrame++}}(this.ctx,this.canvas),this.leftHazards=[],this.rightHazards=[],this.score=0,this.addLeftHazard(),this.addRightHazard(),this.gameOver(),this.scoreCounter(),this.play(),this.vel=n.vel}scoreCounter(){this.scoreCounter=setInterval((()=>this.score+=1),1e3)}play(){this.level.drawBackground(),this.characterOne.move(this.input.keys),this.characterTwo.move(this.input.keys),this.leftHazards.forEach((t=>t.animate())),this.rightHazards.forEach((t=>t.animate())),this.drawScore();const t=requestAnimationFrame(this.play.bind(this));if(this.gameOver())return cancelAnimationFrame(t),new class{constructor(t,s,e){this.ctx=t,this.canvas=s,this.score=e,this.endScreenButtons=document.querySelector(".end-screen-buttons"),this.gameOverSound=new Audio,this.gameOverSound.src="./src/music/mixkit-retro-arcade-game-over-470.wav",this.renderEndScreen()}renderEndScreen(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(background,0,0,this.canvas.width,this.canvas.height),this.endScreenButtons.style.display="block",this.gameOverSound.play();const t={x:this.canvas.width/2,y:this.canvas.height/2};this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.font="bold 200pt sans-serif",this.ctx.fillText(this.score,t.x,t.y),this.ctx.fillStyle="black",this.ctx.strokeStyle="forestgreen",this.ctx.lineWidth=5,this.ctx.strokeText(this.score,t.x,t.y);const s={x:this.canvas.width/2,y:this.canvas.height/6};this.ctx.font="100px monospace",this.ctx.fillStyle="black",this.ctx.strokeStyle="forestgreen",this.ctx.lineWidth=5,this.ctx.strokeText("YOUR SCORE:",s.x,s.y),this.ctx.fillText("YOUR SCORE:",s.x,s.y)}}(this.ctx,this.canvas,this.score)}addLeftHazard(){this.leftHazards.push(new a(this.ctx,this.canvas)),this.leftHazardCounter=setInterval((()=>{this.leftHazards.push(new a(this.ctx,this.canvas))}),4500)}addRightHazard(){let t=new n(this.ctx,this.canvas);this.rightHazards.push(t),this.rightHazardCounter=setInterval((()=>{this.rightHazards.push(new n(this.ctx,this.canvas))}),4500)}gameOver(){let t=!1;return this.leftHazards.forEach((s=>{s.x<this.characterOne.x+this.characterOne.width-45&&s.x+s.width>this.characterOne.x&&s.y+115<this.characterOne.y+this.characterOne.height-7&&s.y+s.height-10>this.characterOne.y+7&&(t=!0,clearInterval(this.rightHazardCounter),clearInterval(this.leftHazardCounter))})),this.rightHazards.forEach((s=>{s.x<this.characterTwo.x+this.characterTwo.width-5&&s.x+s.width>this.characterTwo.x+10&&s.y+115<this.characterTwo.y+this.characterTwo.height&&s.y+s.height>this.characterTwo.y+5&&(t=!0,clearInterval(this.rightHazardCounter),clearInterval(this.leftHazardCounter))})),t}drawScore(){const t={x:this.canvas.width/2,y:this.canvas.height/5};this.ctx.textAlign="center",this.ctx.font="bold 100pt sans-serif",this.ctx.fillStyle="black",this.ctx.fillText(this.score,t.x,t.y),this.ctx.strokeStyle="forestgreen",this.ctx.lineWidth=5,this.ctx.strokeText(this.score,t.x,t.y)}};document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("game-canvas");t.width=.67*window.innerWidth,t.height=.67*window.innerHeight,t.style.boxShadow="1px 1px 6px 6px slategray";const s=t.getContext("2d"),e=document.getElementById("background");e.width=t.width,e.height=t.height;const h=new i(t,s);h.renderStartScreen(),new class{constructor(t,s){this.canvas=t,this.ctx=s,this.startScreen=new i(this.canvas,this.ctx),this.menuButtons=document.querySelector(".menu-buttons"),this.playButton=document.getElementById("play-button"),this.instructionsButton=document.getElementById("instructions-button"),this.instructions=document.getElementById("instructions"),this.difficultyButton=document.getElementById("difficulty-button"),this.difficultyButtons=document.querySelector(".difficulty-buttons"),this.easyButton=document.getElementById("easy-button"),this.mediumButton=document.getElementById("medium-button"),this.hardButton=document.getElementById("hard-button"),this.haha=document.getElementById("HAHA"),this.sourcesButton=document.getElementById("sources-button"),this.sources=document.getElementById("sources"),this.backButton=document.getElementById("back-button"),this.endScreenButtons=document.querySelector(".end-screen-buttons"),this.playAgainButton=document.getElementById("play-again-button"),this.backToMenuButton=document.getElementById("back-to-menu-button"),this.music=document.getElementById("music"),this.musicIcon=document.getElementById("music-icon"),this.nextSongIcon=document.getElementById("next"),this.prevSongIcon=document.getElementById("prev"),this.musicSources=["./src/music/ES_Tiger Tracks - Lexica.mp3","./src/music/Monkeys-Spinning-Monkeys.mp3","./src/music/makai-symphony-dragon-slayer.mp3","./src/music/ES_Astrophage - Lupus Nocte.mp3"],this.currentSong=0,this.startScreen.renderStartScreen(),this.playButton.addEventListener("click",(()=>{new c(this.canvas,this.ctx),this.menuButtons.style.display="none"}));const e=t=>{this.ctx.drawImage(this.startScreen.background,0,0,this.canvas.width,this.canvas.height),this.backButton.style.display="none",this.menuButtons.style.display="flex"};this.instructionsButton.addEventListener("click",(()=>{this.ctx.drawImage(this.instructions,0,0,this.canvas.width,this.canvas.height),t.addEventListener("click",e,{once:!0}),this.menuButtons.style.display="none",this.backButton.style.display="block"})),this.backButton.addEventListener("click",(()=>{this.ctx.drawImage(this.startScreen.background,0,0,this.canvas.width,this.canvas.height),this.backButton.style.display="none",this.menuButtons.style.display="flex"})),this.difficultyButton.addEventListener("click",(()=>{this.menuButtons.style.display="none",this.difficultyButtons.style.display="flex"})),this.easyButton.addEventListener("click",(()=>{n.vel=2*Math.random()+2,a.vel=2*Math.random()+2,this.difficultyButtons.style.display="none",this.menuButtons.style.display="flex"})),this.mediumButton.addEventListener("click",(()=>{n.vel=3.5*Math.random()+3.5,a.vel=3.5*Math.random()+3.5,this.difficultyButtons.style.display="none",this.menuButtons.style.display="flex"})),this.hardButton.addEventListener("click",(()=>{n.vel=6*Math.random()+4,a.vel=6*Math.random()+4,this.difficultyButtons.style.display="none",this.menuButtons.style.display="flex"})),this.haha.addEventListener("click",(()=>{n.vel=5*Math.random()+10,a.vel=5*Math.random()+10,this.difficultyButtons.style.display="none",this.menuButtons.style.display="flex"})),this.sourcesButton.addEventListener("click",(()=>{this.ctx.drawImage(this.sources,0,0,this.canvas.width,this.canvas.height),t.addEventListener("click",e,{once:!0}),this.menuButtons.style.display="none",this.backButton.style.display="block"})),this.playAgainButton.addEventListener("click",(()=>{new c(this.canvas,this.ctx),this.menuButtons.style.display="none",this.endScreenButtons.style.display="none"})),this.backToMenuButton.addEventListener("click",(()=>{this.ctx.drawImage(this.startScreen.background,0,0,this.canvas.width,this.canvas.height),this.backButton.style.display="none",this.menuButtons.style.display="flex",this.endScreenButtons.style.display="none"})),this.musicIcon.addEventListener("click",(()=>{this.music.paused?(this.music.play(),this.musicIcon.src="./src/icons/music.png"):(this.music.pause(),this.musicIcon.src="./src/icons/music_off.png")})),this.nextSongIcon.addEventListener("click",(()=>{this.currentSong++,this.music.src=this.musicSources[this.currentSong%this.musicSources.length],this.music.play(),this.musicIcon.src="./src/icons/music.png"})),this.prevSongIcon.addEventListener("click",(()=>{this.currentSong>0?this.currentSong--:this.currentSong=this.musicSources.length-1,this.music.src=this.musicSources[this.currentSong%this.musicSources.length],this.music.play(),this.musicIcon.src="./src/icons/music.png"}))}}(t,s),window.addEventListener("resize",(()=>{t.width=.67*window.innerWidth,t.height=.67*window.innerHeight,s.drawImage(h.background,0,0,t.width,t.height)})),document.body.style.backgroundImage="url('./src/backgrounds/space.jpg')",document.body.style.backgroundSize="cover"}))}()}();
//# sourceMappingURL=main.js.map